<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <title>My Orders - Farmers Market</title>
</head>

<body>
  <div class="container my-5">
    <h1 class="text-center">My Orders</h1>
    <div id="ordersContainer">
      <p>No orders placed yet.</p>
    </div>
    <a href="../product/product.html" class="btn btn-primary mt-3">Continue Shopping</a>
  </div>

  <script>
    // Display Orders
    function displayOrders() {
      const orders = JSON.parse(localStorage.getItem('orders')) || [];
      const container = document.getElementById('ordersContainer');
      container.innerHTML = "";

      if (orders.length === 0) {
        container.innerHTML = "<p>No orders placed yet.</p>";
        return;
      }

      orders.forEach((item, index) => {
        container.innerHTML += `
          <div class="card mb-3">
            <div class="row g-0">
              <div class="col-md-4">
                <img src="${item.image}" class="img-fluid rounded-start" alt="${item.name}">
              </div>
              <div class="col-md-8">
                <div class="card-body">
                  <h5 class="card-title">${item.name}</h5>
                  <p class="card-text">Price: ${item.price}</p>
                  <button class="btn btn-danger" onclick="cancelOrder(${index})">Cancel Order</button>
                </div>
              </div>
            </div>
          </div>
        `;
      });
    }

    // Cancel Order
    function cancelOrder(index) {
      const orders = JSON.parse(localStorage.getItem('orders')) || [];
      orders.splice(index, 1);
      localStorage.setItem('orders', JSON.stringify(orders));
      displayOrders();
    }

    displayOrders();
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>

</html>
